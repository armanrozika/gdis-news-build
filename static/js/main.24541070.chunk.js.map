{"version":3,"sources":["actions/actionCreators.js","components/home/Home.js","components/article/Article.js","App.js","reducers/rootReducer.js","index.js"],"names":["fetchArticles","searchQuery","callback","dispatch","a","axios","get","initFetch","type","payload","data","response","docs","console","log","setQuery","query","Home","state","loading","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","className","onSubmit","this","placeholder","onChange","src","alt","articles","length","map","article","index","key","uri","to","multimedia","url","headline","main","React","Component","connect","Article","idx","mainParams","match","params","article_url","split","i","Date","pub_date","toLocaleString","lead_paragraph","abstract","href","web_url","rel","App","exact","path","component","initstate","rootReducer","action","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.24541070.chunk.js","sourcesContent":["\nimport axios from 'axios'\n\n//for the purpose of this test, I put the api-key here\n//in real production, this should be in the .env variable\nconst apiKey = 'G5K6qtfjqkC6D0IbFChy68ruIabQPqVd'\nconst baseUrl = 'https://api.nytimes.com/svc/search/v2/articlesearch.json'\n\nexport const fetchArticles = (searchQuery, callback)=>{\n\treturn async dispatch => {\n\t\ttry {\n\n\t\t\t//make call to nyt apis\n\t\t\tconst initFetch = await axios.get(`${baseUrl}?q=${searchQuery}&api-key=${apiKey}`);\n\t\t\tawait callback()\n\n\t\t\tdispatch({\n\t\t\t\ttype: 'FETCH_ARTICLE',\n\t\t\t\tpayload: initFetch.data.response.docs\n\t\t\t})\n\n\t\t}catch(err){\n\t\t\tconsole.log(err)\n\t\t}\n\t}\n}\n\nexport const setQuery = query => {\n\treturn dispatch => {\n\t\tdispatch({\n\t\t\ttype: 'SET_QUERY',\n\t\t\tpayload: query\n\t\t})\n\t}\n}","import React from \"react\";\nimport {connect} from 'react-redux'\nimport {Link} from 'react-router-dom'\n\nimport {fetchArticles, setQuery} from '../../actions/actionCreators'\n\nimport \"./home.scss\";\n\nclass Home extends React.Component {\n  state = {\n  \tloading: false,\n  \tsearchQuery: ''\n  };\n\n  componentDidMount(){\n  }\n\n  handleChange = e => {\n  \tthis.setState({\n  \t\tsearchQuery: e.target.value\n  \t})\n  }\n\n  handleSubmit = (e)=>{\n  \te.preventDefault();\n\n  \tif(!this.state.searchQuery){\n  \t\treturn\n  \t}\n\n  \tthis.setState({\n  \t\tloading: true\n  \t});\n  \t\t\n\n  \tthis.props.fetchArticles(this.state.searchQuery, ()=>{\n  \t\tthis.props.setQuery(this.state.searchQuery)\n  \t\tthis.setState({\n  \t\t\tloading: false,\n  \t\t\tsearchQuery: '',\n  \t\t});\n  \t})\n  }\n\n  render() {\n  \t//console.log(this.props)\n    return (\n      <div className=\"home\">\n\n        <form onSubmit={this.handleSubmit}>\n        \t<input type=\"text\" placeholder=\"Search\" value={this.state.searchQuery} onChange={this.handleChange}/>\n        \t{this.props.query && <p>Showing Result for <span>{this.props.query}</span></p>}\n        </form>\n\n        {this.state.loading ? (\n        \t<div className=\"loading-wrapper\">\n        \t\t<img src=\"https://cdn.dribbble.com/users/487964/screenshots/1464859/loading.gif\" alt=\"img\"/>\n        \t\t<p className=\"loading-placeholder\">Hold tight, we're searching your news...</p>\n        \t</div>\n        \t\n        ):(\n\t \t\t<div className=\"search-result\">\n\t \t\t\t{this.props.articles.length > 0 ? (\n\t \t\t\t\t<div className=\"result-grid\">\n\t \t\t\t\t\t{this.props.articles.map((article, index) => {\n\t \t\t\t\t\t\treturn(\n\t \t\t\t\t\t\t\t<Link className=\"article-link\" key={article.uri} to={`/${this.props.query}&c${index}`}>\n\t \t\t\t\t\t\t\t\t{article.multimedia.length > 0 ? (\n\t \t\t\t\t\t\t\t\t\t<img src={'https://nytimes.com/'+article.multimedia[0].url} alt=\"img\"/>\n\t \t\t\t\t\t\t\t\t): (\n\t \t\t\t\t\t\t\t\t\t<img src=\"https://shenandoahcountyva.us/bos/wp-content/uploads/sites/4/2018/01/picture-not-available-clipart-12.jpg\" alt=\"img\"/>\n\t \t\t\t\t\t\t\t\t)}\n\t \t\t\t\t\t\t\t\t\n\t \t\t\t\t\t\t\t\t<p>{article.headline.main}</p>\t\n\t \t\t\t\t\t\t\t</Link>\n\t \t\t\t\t\t\t)\n\t \t\t\t\t\t})}\n\t \t\t\t\t</div>\n\t \t\t\t): (\n\t\t\t\t\t<p>Type in the search box to find the news you want</p>\n\t \t\t\t)}\n\t        </div>\n        )}\n       \n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state =>{\n\treturn {\n\t\tarticles: state.articles,\n\t\tquery: state.query\n\t}\n}\n\nexport default connect(mapStateToProps, {fetchArticles, setQuery})(Home);\n","import React from 'react';\nimport {connect} from 'react-redux'\n\nimport {fetchArticles, setQuery} from '../../actions/actionCreators'\nimport './article.scss'\n\nclass Article extends React.Component {\n\tstate = {\n\t\tidx: null\n\t}\n\tcomponentDidMount(){\n\t\tconst mainParams = this.props.match.params.article_url.split('&c');\n\t\tthis.props.fetchArticles(mainParams[0], ()=>{\n\t\t\tthis.props.setQuery(mainParams[0]);\n\t\t\tthis.setState({\n\t\t\t\tidx: mainParams[1]\n\t\t\t})\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {articles} = this.props\n\t\tconst i = this.state.idx\n\t\treturn (\n\t\t\t<div className=\"single-article\">\n\t\t\t\t\n\t\t\t\t{this.state.idx && articles.length > 0 ? (\n\t\t\t\t\t<div className=\"single-container\">\n\t\t\t\t\t\t{articles[i].multimedia.length > 0 ? (\n\t\t\t\t\t\t\t<img src={'https://nytimes.com/'+articles[i].multimedia[0].url} alt=\"img\"/>\n\t\t\t\t\t\t): (\n\t\t\t\t\t\t\t<img src=\"https://shenandoahcountyva.us/bos/wp-content/uploads/sites/4/2018/01/picture-not-available-clipart-12.jpg\" alt=\"img\"/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<h3>{articles[i].headline.main}</h3>\n\t\t\t\t\t\t<p className=\"date\">{new Date(articles[i].pub_date).toLocaleString()}</p>\n\t\t\t\t\t\t<p className=\"lead-paragraph\">{articles[i].lead_paragraph}</p>\n\t\t\t\t\t\t<p className=\"lead-paragraph\">{articles[i].abstract}</p>\n\t\t\t\t\t\t<a className=\"lead-paragraph link-out\" href={articles[i].web_url} target=\"_blank\" rel=\"noopener noreferrer\">Read full article at nytimes.com</a>\n\t\t\t\t\t</div>\n\t\t\t\t):(\n\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t)}\n\t\t\t\t\n\t\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tarticles: state.articles\n\t}\n}\n\nexport default connect(mapStateToProps, {fetchArticles, setQuery})(Article)","import React from 'react';\nimport {Route, HashRouter, Switch} from 'react-router-dom'\n\nimport './app.scss'\n//key: G5K6qtfjqkC6D0IbFChy68ruIabQPqVd\n//secret: MzFjJ4Y4kM2GlrWI\n\nimport Home from './components/home/Home'\nimport Article from './components/article/Article'\n\nfunction App() {\n  return (\n    <HashRouter>\n      <div className=\"App\">\n        <h1 className=\"main-title\">The <span>GDIS</span> Times</h1>\n        <Switch>\n          <Route exact path=\"/\" component={Home}/>\n          <Route path=\"/:article_url\" component={Article}/>\n        </Switch>\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","const initstate = {\n\tarticles: [],\n\tquery: ''\n}\n\nconst rootReducer = (state=initstate, action) => {\n\tif(action.type === 'FETCH_ARTICLE'){\n\t\treturn {\n\t\t\t...state,\n\t\t\tarticles: action.payload\n\t\t}\n\t}\n\tif(action.type === 'SET_QUERY'){\n\t\treturn {\n\t\t\t...state,\n\t\t\tquery: action.payload\n\t\t}\n\t}\n\n\treturn state\n\t\n}\n\nexport default rootReducer","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {createStore, applyMiddleware} from 'redux'\nimport {Provider} from 'react-redux';\nimport thunk from 'redux-thunk';\n\nimport App from './App';\n\nimport rootReducer from './reducers/rootReducer'\n\nconst store = createStore(rootReducer, applyMiddleware(thunk))\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n\n\n"],"sourceRoot":""}